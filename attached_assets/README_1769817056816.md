# PCBancard Statement Analyzer v2.0

AI-powered merchant processing statement analyzer with file upload support. Upload PDF, images, or Excel files - or enter data manually.

## Features

### ğŸ“¤ File Upload Support
- **PDF** - Parses text directly from PDF statements
- **Images** (JPG, PNG, etc.) - OCR extracts text from photos/scans
- **Excel/CSV** - Reads spreadsheet data directly
- **Multiple files** - Upload several pages at once

### ğŸ¤– AI-Powered Analysis
- Claude AI extracts data from uploaded statements
- Identifies processor, volume, transactions, fees automatically
- Provides custom insights and recommendations
- Falls back to manual entry if extraction fails

### ğŸ“Š Complete Analysis
- Calculates true interchange costs
- Identifies processor markup
- Compares to PCBancard pricing (IC+ and Dual Pricing)
- Detects red flags and junk fees

### ğŸ—£ï¸ Sales Talking Points
- Opening statement with specific numbers
- Discovery questions
- Objection handlers
- Dual Pricing and IC+ pitches
- Closing statements
- One-click copy for all scripts

---

## Quick Start

### 1. Create New Replit
1. Go to [replit.com](https://replit.com)
2. Click "Create Repl"
3. Choose "React (Vite)" template
4. Name it "pcbancard-statement-analyzer"

### 2. Upload Files
Upload all files from this package to your Replit project.

### 3. Add API Key (Required for AI features)
1. Click "Secrets" in the Tools panel
2. Add new secret:
   - Key: `VITE_ANTHROPIC_API_KEY`
   - Value: Your Anthropic API key

### 4. Install & Run
```bash
npm install
npm run dev
```

---

## How It Works

### With File Upload
```
1. Agent uploads statement (PDF, image, Excel)
         â†“
2. File parsed (PDF text extraction / OCR / spreadsheet parsing)
         â†“
3. Claude AI extracts key data points
         â†“
4. Analysis engine calculates savings
         â†“
5. Talking points generated with specific numbers
         â†“
6. Agent uses scripts to close the deal
```

### Without File (Manual Entry)
```
1. Agent enters: Volume, Transactions, Fees
         â†“
2. Analysis engine calculates savings
         â†“
3. Talking points generated
         â†“
4. Agent uses scripts to close the deal
```

---

## File Structure

```
statement-analyzer-v2/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ FileUpload.jsx         # Drag-drop file upload
â”‚   â”‚   â”œâ”€â”€ ProcessingStatus.jsx   # Progress indicator
â”‚   â”‚   â”œâ”€â”€ ManualEntry.jsx        # Manual data form
â”‚   â”‚   â”œâ”€â”€ AnalysisResults.jsx    # Results display
â”‚   â”‚   â””â”€â”€ TalkingPointsPanel.jsx # Sales scripts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ fileParser.js          # PDF/Image/Excel parsing
â”‚   â”‚   â”œâ”€â”€ claudeService.js       # AI data extraction
â”‚   â”‚   â”œâ”€â”€ analysisEngine.js      # Calculations
â”‚   â”‚   â””â”€â”€ talkingPoints.js       # Script generation
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ interchangeRates.js    # Rate database
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ main.jsx
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ public/
â”‚   â””â”€â”€ favicon.svg
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ postcss.config.js
â””â”€â”€ .replit
```

---

## Supported File Types

| Type | Extensions | Method |
|------|------------|--------|
| PDF | .pdf | Text extraction via PDF.js |
| Images | .jpg, .jpeg, .png, .gif, .webp, .bmp, .tiff | OCR via Tesseract.js |
| Excel | .xlsx, .xls | Parsing via SheetJS |
| CSV | .csv | Parsing via SheetJS |
| Text | .txt | Direct reading |

### Tips for Best Results
- Upload clear, high-resolution images
- Include all pages of multi-page statements
- PDF is fastest, images take longer (OCR processing)
- If extraction fails, you can still enter data manually

---

## AI Features

When `VITE_ANTHROPIC_API_KEY` is configured:

### Data Extraction
- Automatically identifies volume, transactions, fees
- Detects processor name
- Finds card brand breakdown
- Identifies pricing type (tiered, IC+, flat)

### Custom Insights
- Key findings specific to this merchant
- Recommended approach (Dual Pricing vs IC+)
- Expected objections
- Closing tips

### Without API Key
- Manual data entry only
- Full analysis still works
- Talking points still generated
- Just no AI extraction or insights

---

## Interchange Database

Built-in rates for all major card brands:

### Visa
| Category | Rate |
|----------|------|
| Regulated Debit | 0.05% + $0.21 |
| CPS Retail | 1.65% + $0.10 |
| Rewards 1 | 1.65% + $0.10 |
| Rewards 2 | 1.95% + $0.10 |
| Signature Preferred | 2.10% + $0.10 |
| Infinite | 2.30% + $0.10 |

### Mastercard
| Category | Rate |
|----------|------|
| Regulated Debit | 0.05% + $0.21 |
| Merit I | 1.58% + $0.10 |
| World | 1.73% + $0.10 |
| World Elite | 2.05% + $0.10 |

### Discover
| Category | Rate |
|----------|------|
| Retail | 1.56% + $0.10 |
| Rewards | 1.71% + $0.10 |
| Premium Plus | 2.15% + $0.10 |

### American Express (OptBlue)
| Category | Rate |
|----------|------|
| Retail | 2.00% + $0.10 |
| Restaurant | 1.90% + $0.10 |

---

## PCBancard Pricing

### Interchange Plus
- Wholesale interchange pass-through
- +0.20% markup
- +$0.10 per transaction
- $10/month account fee
- No PCI fees, no statement fees

### Dual Pricing
- 3.99% service fee to card users
- $44.95/month total
- Effective rate near 0%
- Free terminal included

---

## Environment Variables

| Variable | Required | Description |
|----------|----------|-------------|
| `VITE_ANTHROPIC_API_KEY` | No* | Anthropic API key for AI features |

*App works without it, but AI extraction and insights are disabled.

---

## Deployment

### Replit
Click "Deploy" in your Replit project. The `.replit` file is pre-configured.

### Other Platforms
```bash
npm run build
# Deploy the 'dist' folder to any static host
```

---

## Support

- Interchange rates are estimates based on typical card mix
- Actual rates vary by merchant type and card composition
- For questions, contact PCBancard support

---

## License

Proprietary - PCBancard Internal Use Only
