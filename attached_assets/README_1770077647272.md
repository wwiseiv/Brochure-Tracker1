# User Impersonation System

## Overview
This system enables administrators and managers to "login as" other users for support, training, and management purposes while maintaining full audit trails and security.

## Role Hierarchy

```
SUPER_ADMIN (wwiseiv@icloud.com)
    │
    ├── Can impersonate: Everyone (Admins, Managers, Agents)
    ├── Can view: All users across entire system
    └── Special privileges: System configuration, role management
    
ADMIN
    │
    ├── Can impersonate: Managers, Agents
    ├── Can view: All Managers and Agents
    └── Cannot impersonate: Super Admins or other Admins
    
MANAGER
    │
    ├── Can impersonate: Only their assigned Agents
    ├── Can view: Only Agents assigned to them
    └── Cannot impersonate: Admins, Super Admins, or other Managers
    
AGENT
    │
    └── Cannot impersonate anyone
```

## Features

- **Secure Impersonation**: JWT-based session with original user preserved
- **Visual Indicator**: Clear banner showing impersonation is active
- **Audit Logging**: Every impersonation action is logged
- **One-Click Exit**: Easy return to original account
- **Role Enforcement**: Strict hierarchy prevents privilege escalation

## Files Structure

```
user-impersonation-system/
├── README.md
├── database/
│   └── schema.sql
├── backend/
│   ├── models/
│   │   └── User.js
│   ├── middleware/
│   │   └── impersonation.js
│   ├── routes/
│   │   └── impersonation.js
│   └── utils/
│       └── auditLog.js
├── frontend/
│   ├── components/
│   │   ├── ImpersonationBanner.jsx
│   │   ├── UserManagementPanel.jsx
│   │   └── ImpersonateButton.jsx
│   └── hooks/
│       └── useImpersonation.js
└── integration-guide.md
```
